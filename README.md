# Shopping-plaza.ru

Проект для создания интернет-магазинов.
С помощью Shopping-Plaza можно создать свой интернет магазин, при этом не надо углубляться в технические вопросы.
Нужно зарегистрировать домен, зарегистрировать его в [shopping-plaza.ru](http://shopping-plaza.ru/),
и дальше просто наполнять базу товарами.

## Требования

Web server (Apache | nginx)
PHP 5.3
Mysql 5
ImageMagick 6

## Установка

В проекте есть две главные части:
1. front-end - интернет-магазин, к примеру: [http://demo.shopping-plaza.ru/](http://demo.shopping-plaza.ru/)
2. back-end - панель управления магазином [http://shopping-plaza.ru/](http://shopping-plaza.ru/)

Установка происходит достаточно посто, копируем файлы, ./back-end в одно место, ./front-end в другое.
backend и frontend использует одни и те же файлы ./common-file, про них тоже надо не забыть.

В папках ./back-end и ./front-end, есть подпапки public, на неё должны быть настроен вебсервер.
Т.е. для back-end должен быть путь ./back-end/public, а для front-end ./front-end/public

Сейчас front-end может обрабатывать разные домены, имя домена находиться в БД, если он есть,
то отображается магазин для соответствующего домена. Если домена нет, то происходит редирект на front-end,
где предлагается создать магазин для не найденного домена.

Чтобы новое доменное имя указывало на сервера front-end, нужно настроить NS сервера, и указать IP front-end-a.
Т.е. сейчас чтобы создать магазин, который будет работать на панели управления shopping-plaza.ru, нужно зарегистрировать домен,
у регистратора указать NS сервера shopping-plaza.ru, сейчас они:

| ----------------- |
| ns1.selectel.org. |
| ns2.selectel.org. |

Как только DNS сервера обновят у себя эту информацию, новые доменное имя будет открывать front-end.

Такое создание магазинов удобно для использования нескольких продающих доменов, с одной панелью управления.

## API

#### SMS-шлюз

Если хотите чтобы отправлялись SMS, можно настроить интеграции с SMS-шлюзом.
SMS-ки используются для уведомлениях о новых заказах, заявках на звонки и т.д. Если надо быть в курсе того,
 что происходит с магазином через SMS, то эта очень полезная штука.

Сейчас интеграция сделана с SMS24x7 [http://sms24x7.ru/](http://sms24x7.ru/). Данные авторизации для SMS24x7 указываются тут:
./common-files/system/vendor/SMSer.php

#### Шлюз со службой доставки

У заказа может быть несколько статусов, и один из них "подтвержден", при появлении этого статуса, отправляется запрос
в службу доставки, где на стороне доставки, происходит регистрация заказа, обработка, и отправка клиенту.

Сейчас интеграция сделана с Axiomus [http://www.axiomus.ru/](http://www.axiomus.ru/) и работает только для одного магазина
(пример: ./back-end/engine/application/controllers/orders.php, Orders_Controller::info),
Настроить авторизацию можно тут ./common-files/system/vendor/Axiomus.php.